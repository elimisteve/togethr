# Public Domain (-) 2011 The Togethr Authors.
# See the Togethr UNLICENSE file for details.

generate:
- base.js:
    source:
      # text parsing
      - %(AMPIFY_ROOT)s/third_party/jslibs/twitter/twttr.txt.js
      # jquery plugins
      - %(AMPIFY_ROOT)s/third_party/jslibs/jquery/plugins/jquery.geolocation.js
      - %(AMPIFY_ROOT)s/third_party/jslibs/jquery/plugins/jquery.url.js
      # backbone
      - %(AMPIFY_ROOT)s/third_party/jslibs/underscore/underscore.js
      - %(AMPIFY_ROOT)s/third_party/jslibs/backbone/backbone.js
      # mobone (n.b.: strip down)
      - third_party/mobone/_namespace.coffee
      - third_party/mobone/event.coffee
      - third_party/mobone/math.coffee
      - third_party/mobone/string.coffee

- client.js:
    source:
      - raw: |
          /* Public Domain (-) 2011 The Togethr Authors.
           * See the Togethr UNLICENSE file for details. */
      - coffee/live.coffee
      - coffee/main.coffee
      - coffee/view.coffee
    
- init.js:
    source:
      - raw: |
          /* Public Domain (-) 2011 The Togethr Authors.
           * See the Togethr UNLICENSE file for details. */
      - coffee/init.coffee

- test.js:
    source:
      - raw: |
          /* Public Domain (-) 2011 The Togethr Authors.
           * See the Togethr UNLICENSE file for details. */
      - coffee/tests/test_live.coffee
    

- gfx/*:
    source: gfx/*
    type: binary

- site.css:
    source:
      - raw: |
          /* Public Domain (-) 2011 The Togethr Authors.
           * See the Togethr UNLICENSE file for details. */
      - sass/site.sass
    embed.path.root: static
    embed.url.base: /.static/

- update.css:
    source:
      - raw: |
          /* Public Domain (-) 2011 The Togethr Authors.
           * See the Togethr UNLICENSE file for details. */
      - sass/update.sass

output.directory: app/build
output.hashed: true
output.manifest: app/build/assets.json

env:
  NODE_PATH.prefix: app/build

profile.dev:
  css.compressed: false
  js.compressed: false
  output.hashed: false
