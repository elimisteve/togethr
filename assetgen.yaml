# Public Domain (-) 2011 The Togethr Authors.
# See the Togethr UNLICENSE file for details.

generate:

- client.js:
    source:
      - raw: |
          /* Public Domain (-) 2011-2012 The Togethr Authors.
           * See the Togethr UNLICENSE file for details. */
      - %(AMPIFY_ROOT)s/src/js/define.coffee
      - coffee/ucd.js
      - coffee/rpc.coffee
      - coffee/validate.coffee
      - coffee/main.coffee
    
- gfx/*:
    source: resource/gfx/*
    type: binary

- init.js:
    source:
      - raw: |
          /* Public Domain (-) 2011-2012 The Togethr Authors.
           * See the Togethr UNLICENSE file for details. */
      - coffee/init.coffee

- loader.css:
    source:
      - sass/loader.sass
    compressed: true

- qunit.css:
    source:
      - resource/qunit/qunit.css

- qunit.js:
    source:
      - resource/jquery/jquery.min.js
      - resource/qunit/qunit.js

- site.css:
    source:
      - raw: |
          /* Public Domain (-) 2011-2012 The Togethr Authors.
           * See the Togethr UNLICENSE file for details. */
      - sass/site.sass
    embed.data_limit: no
    embed.only: yes
    embed.path.root: resource
    embed.url.base: /.static/

- test.js:
    source:
      - raw: |
          /* Public Domain (-) 2011-2012 The Togethr Authors.
           * See the Togethr UNLICENSE file for details. */
      - coffee/tests/test_live.coffee

- update.css:
    source:
      - raw: |
          /* Public Domain (-) 2011-2012 The Togethr Authors.
           * See the Togethr UNLICENSE file for details. */
      - sass/update.sass

output.directory: app/build
output.hashed: true
output.manifest: app/build/assets.json

env:
  NODE_PATH.prefix: app/build

profile.dev:
  css.compressed: false
  js.compressed: false
  output.hashed: false
