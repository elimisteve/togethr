<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>Togethr</title>
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/build/gfx/homescreen.png" />
    <!--
      Does the splash img link need to reference the correct size? If so, we
      need server side user agent sniffing :(
    -->
    <!-- 
      iphone
    -->
    <link rel="apple-touch-startup-image" href="/build/gfx/splash-320x480.png" />
    <!--
      iphone retina
      <link rel="apple-touch-startup-image" href="/build/gfx/splash-640x960.png" />
    -->
    <!--
      ipad portrait 
      <link rel="apple-touch-startup-image" href="/build/gfx/splash-768x1024.png" />
    -->
    <!-- 
      ipad landscape
      <link rel="apple-touch-startup-image" href="/build/gfx/splash.1024x768" />
    -->
    <link rel="stylesheet" href="http://code.jquery.com/mobile/latest/jquery.mobile.css" />
    <link type="text/css" rel="stylesheet" href="/src/css/libraries.css" />
    <link type="text/css" rel="stylesheet" href="/build/css/site.css" />
  </head>
  <body>
    <div id="wrapper">
      <div id="scroll-wrapper">
        <div class="scroll">
          <div class="page-container">
            <!--
              
              Query Page
              
              
            -->
            <div id="query-page" class="page" data-role="page" data-theme="c">
              <div data-role="header">
              </div>
              <div class="body" data-role="content">
                <div class="head">
                  <div class="bar togethr-bar">
                    <img src="/build/gfx/logo.png" />
                    <div class="button location-button">
                      <a id="location-button" href="/app/select/location"
                          data-role="button" 
                          data-inline="true" 
                          data-icon="info"
                          data-iconpos="left">+here</a>
                    </div>
                  </div>
                  <div class="bar search-bar">
                    <div class="input search-input left">
                      <form action="/query" method="post">
                        <input id="search-input" type="search" name="q" />
                      </form>
                    </div>
                    <a href="/app/action/jump"
                        data-role="button" 
                        data-inline="true" 
                        data-icon="arrow-d"
                        data-iconpos="notext" 
                        class="left">Jump to</a>
                    <a href="/app/select/bookmark" 
                        data-role="button" 
                        data-inline="true" 
                        data-icon="grid"
                        data-iconpos="notext" 
                        class="left">Bookmarks</a>
                  </div>
                  <!--div class="bar title-bar ui-header">
                    <a href="/"
                        data-role="button" 
                        data-inline="true" 
                        data-rel="back"
                        data-icon="back"
                        data-iconpos="notext" 
                        class="left">Back</a>
                    <a href="/app/bookmark/add"
                        data-role="button" 
                        data-inline="true"
                        data-icon="plus"
                        data-iconpos="notext" 
                        class="right">Add bookmark</a>
                    <div class="title ui-title"></div>
                  </div-->
                  <div class="bar location-bar">
                    <div class="slider">
                      <div data-role="fieldcontain">
                        <input type="range" 
                            name="location-slider" 
                            id="location-slider" 
                            value="100" 
                            min="25" 
                            max="100"
                        />
                      </div>
                    </div>
                  </div>
                </div>
                <div class="window main-window">
                  <div class="row" data-role="fieldcontain">
                    <select name="select-results-view" class="results-view-select"
                        data-native-menu="false">
                      <option value="activity_stream">Activity Stream</option>
                      <option value="map">Map</option>
                    </select>
                  </div>
                  <div class="row selectable-view-container">
                  </div>
                </div>
              </div>
            </div>
            <!--
              
              Message Page
              
              
            -->
            <div id="message-page" class="page" data-role="page" data-theme="c">
              <div class="head" data-role="header">
                <a href="/"
                    data-role="button" 
                    data-inline="true" 
                    data-rel="back"
                    data-icon="back"
                    class="left">Back</a>
                <div class="right .ui-btn-right" data-inline="true">
                  <a class="appreciate-button" href="#appreciate" data-role="button">
                    Appreciate</a>
                  <a class="jumpto-button" href="#jumpto" data-role="button">
                    Jump To</a>
                </div>
                <h1 class="title">Message</h1>
              </div>
              <div class="body" data-role="content">
                <div class="window main-window">
                  <div class="row message-row message-user">
                  </div>
                  <div class="row message-row message-content">
                  </div>
                  <div class="row selectable-view-container">
                  </div>
                </div>
              </div>
            </div>
            <!--
              
              Location Dialog
              
              
            -->
            <div id="location-dialog" class="dialog" data-role="dialog">
              <div class="head" data-role="header">
                <h1>Set Location</h1>
              </div>
              <div class="body" data-role="content">
                <div class="window main-window">
                  <div class="row" data-role="fieldcontain">
                    <label for="select-existing-location" class="select">
                      Select an existing location:
                    </label>
                    <select name="select-existing-location"
                        class="existing-location-select"
                        data-native-menu="false">
                      <option value="+here">+here</option>
                    </select>
                  </div>
                  <div class="row" data-role="fieldcontain">
                    <form class="location-search-form">
                      <label for="location">
                        Search for a new location:
                      </label>
                      <input class="location-search-input"
                          type="search" 
                          name="location"
                      />
                    </form>
                  </div>
                  <div class="row" data-role="fieldcontain">
                    <div class="map location-map">
                    </div>
                  </div>
                  <div class="row" data-role="fieldcontain">
                    <label for="location">
                      Give this location a short name:
                    </label>
                    <input class="location-label-input" 
                        type="text" 
                        name="label"
                    />
                  </div>
                  <div class="row save-cancel-row" data-role="fieldcontain">
                    <a class="save-button"
                        href="#save"
                        data-role="button" 
                        data-inline="true">Use this location</a>
                    <a class="cancel-button" 
                        href="#cancel"
                        data-role="button" 
                        data-inline="true">Cancel</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!--
        
        Footer Menu
        
        
      -->
      <div id="footer-wrapper">
        <div class="foot">
          <div class="bar menu-bar">
            <ul>
              <li class="menu-icon home-button">
                <a href="/" title="Home"
                    data-icon="home" data-iconpos="notext" 
                    data-theme="a"></a>
              </li>
              <li class="menu-highlight act-button">
                <a href="act" title="Act" 
                    data-icon="star" data-iconpos="notext"
                    data-theme="e"></a>
              </li>
              <li class="menu-icon settings-button">
                <a href="/settings" title="Settings" 
                    data-icon="gear" data-iconpos="notext"
                    data-theme="a"></a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <!--
      
      Templates
      
      
    -->
    <script type="text/template" id="message-listing-template">
      <div class="user-profile-image left">
        <img src="build/gfx/user.png" />
      </div>
      <%~ content %>
      <div class="clear">
      </div>
    </script>
    <script type="text/template" id="message-page-user-template">
      <a href="/<%= user %>">
        <div class="user-profile-image left">
          <img src="build/gfx/user/<%= user %>.png" />
        </div>
        @<%= user %></a>
      <div class="clear">
      </div>
    </script>
    <script type="text/template" id="message-page-content-template">
      <%~ content %>
    </script>
    <!--
      
      Javascript
      
      
    -->
    <script type="text/javascript"
        src="http://maps.google.com/maps/api/js?sensor=true">
    </script>
    <script type="text/javascript"
        src="http://code.jquery.com/jquery-1.6.2.min.js">
    </script>
    <script type="text/javascript" 
        src="build/js/base.js">
    </script>
    <script type="text/javascript"
        src="build/js/mobone.js">
    </script>
    <script type="text/javascript"
        src="build/js/togethr.js">
    </script>
    <script type="text/javascript">
      // <![CDATA[
      (function ($) {
        $(document).bind(
          // when jquery mobile is ready to be configured
          'mobileinit', 
          function () {
            // get it to stop handling navigation
            $.mobile.ajaxEnabled = false;
            $.mobile.hashListeningEnabled = false;
            $.fn.hashchange = $.noop;
            // preserve scroll when more than 10px (not screen/2)
            $.mobile.minScrollBack = 10;
            // tell it to use vclick
            //$.mobile.useFastClick = true;
            // and make sure it believes it's fully supported
            $.mobile.gradeA = function () { return true; };
          }
        ).ready(
          // then when the page is ready
          function () {
            // and the other ready handlers have run
            window.setTimeout(
              function () { 
                // start the app
                togethr.app.main(); 
              }, 
              20
            );
          }
        );
      })(jQuery);
      // ]]>
    </script>
    <script type="text/javascript"
        src="http://code.jquery.com/mobile/latest/jquery.mobile.js">
    </script>
  </body>
</html>